<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <title>Two-Pointer Technique (양쪽 포인터 / two-pointer)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="두 포인터 기법은 배열/리스트의 양쪽(또는 두 위치)을 동시에 이동시키며 상태를 갱신하는 알고리즘 패턴으로, 정렬·병합·슬라이딩 윈도우 문제에서 고성능과 저메모리 구현에 필수적입니다.">
  <link rel="stylesheet" href="/tech-knowledge-log/style.css?v=8">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
  <style>
    .topic-meta{color:#6b7280;margin-bottom:1.5rem;line-height:1.8}
    .topic-meta strong{color:#1a1a1a;font-weight:600}
    .topic-section{background:#f9fafb;border:1px solid #e5e7eb;padding:1.5rem;border-radius:12px;margin:1.5rem 0}
    .topic-section h2{margin-top:0;color:#1a1a1a;font-size:1.25rem;font-weight:600;margin-bottom:1rem}
    .topic-section p{margin:0.75rem 0;color:#374151;line-height:1.7}
    
    /* 코드 블록 스타일 */
    pre {
      background: #282c34;
      color: #abb2bf;
      padding: 1.5rem;
      border-radius: 8px;
      overflow-x: auto;
      margin: 1rem 0;
      font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
      font-size: 0.9rem;
      line-height: 1.6;
    }
    
    code {
      background: #f4f4f4;
      padding: 0.2rem 0.4rem;
      border-radius: 4px;
      font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
      font-size: 0.9em;
      color: #e06c75;
    }
    
    pre code {
      background: transparent;
      padding: 0;
      color: inherit;
      font-size: 0.9rem;
    }
  </style>
</head>
<body>
  <header>
    <div class="header-content">
      <a href="/tech-knowledge-log/index.html" class="site-title">Tech Knowledge Log</a>
      <nav>
        <a href="/tech-knowledge-log/archive.html">Archive</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <article class="post-content">
      <h1>Two-Pointer Technique (양쪽 포인터 / two-pointer)</h1>
      <div class="topic-meta">
        <div><strong>난이도 / Difficulty:</strong> Intermediate</div>
        <div><strong>날짜 / Date:</strong> 2026-01-23</div>
      </div>

      <section class="topic-section">
        <h2>내용</h2>
        <p>두 포인터 기법은 배열/리스트의 양쪽(또는 두 위치)을 동시에 이동시키며 상태를 갱신하는 알고리즘 패턴으로, 정렬·병합·슬라이딩 윈도우 문제에서 고성능과 저메모리 구현에 필수적입니다.</p>
        <p>작동 원리: 두 개의 인덱스(포인터)를 사용해 입력을 한 번 스캔하거나 두 입력을 병합합니다. 예: 정렬된 두 리스트를 병합할 때 왼쪽/오른쪽 포인터를 비교하고 작은 값을 출력하고 해당 포인터를 증가시킵니다. 슬라이딩 윈도우 변형은 오른쪽 포인터로 확장하고 조건을 위반하면 왼쪽 포인터로 축소하여 O(n) 시간에 집계(합, 최대/최소, 조건 만족 구간)를 얻습니다.<br><br>시스템 차원 고려사항: 프로덕션 코드는 임시 할당을 최소화하고 캐시 친화성(연속 메모리 접근)을 유지하며 경계와 중복 케이스(등값 처리, 외부 메모리 병합)를 안전하게 다룹니다. 데이터베이스의 병합 조인(Merge Join)과 언어 런타임(예: Timsort 병합 단계)에서 두 포인터 패턴이 직접적으로 사용됩니다.</p>
        <h2 style="margin-top:1.5rem;">활용</h2>
        <div>실제 사용 사례:<br>- 사례: PostgreSQL Merge Join (정렬된 소스 병합)<br>  - 출처: PostgreSQL 소스(src/backend/executor/nodeMergejoin.c, v14/v15)<br>  - 코드(개념):<br>    <pre><code class="language-c">while (!left_end &amp;&amp; !right_end) {<br>      if (compare(left-&gt;key, right-&gt;key) &lt;= 0) output(left++);<br>      else output(right++);<br>    }</code></pre><br>  - 실무 패턴: 디스크 기반 외부 정렬 이후 포인터만 이동해 I/O 최소화, 동등 키 처리 시 동일 키 그룹을 버퍼링해 일관성 유지<br><br>- 사례: Timsort 병합 (Python/Java 정렬)<br>  - 출처: CPython 3.11 listobject.c / timsort.c, OpenJDK Arrays.sort for objects<br>  - 코드(개념): 두 run을 인덱스 i,j로 병합하며 안정성(stability) 유지<br>  - 실무 패턴: galloping 모드로 연속 비교 줄여 성능 향상, 임시 버퍼 크기 제어(메모리/latency 균형)<br><br>참고: 이런 패턴은 대규모 데이터 파이프라인(Merge joins in OLAP), 정렬 라이브러리, 스트리밍 집계에서 널리 사용됩니다.</div>
      </section>

      <section class="topic-section">
        <h2>Content</h2>
        <p>The two-pointer technique advances two indices across one or two sequences to compute results with minimal passes and memory; it's foundational for merges, sliding windows, and in-place transforms in production systems.</p>
        <p>How it works: Maintain two pointers (i, j). For merging sorted inputs compare values at i and j, emit the smaller, and increment that pointer. For sliding-window problems, move the right pointer to expand the window and move the left pointer to shrink when constraints fail, keeping overall linear time O(n).<br><br>System-level notes: Production code focuses on cache-friendly linear scans, avoiding extra allocations, and correct handling of boundary conditions and duplicates. Two-pointer merges are used in DBMS merge joins, external merge-sort phases, and runtime sorting libraries (Timsort). Implementations may include optimizations like 'galloping' (run merging) or block copying to reduce branch/memory overhead.</p>
        <h2 style="margin-top:1.5rem;">Applications</h2>
        <div>Real-world use case:<br>- Case: PostgreSQL Merge Join (merge sorted inputs)<br>  - Source: PostgreSQL source (src/backend/executor/nodeMergejoin.c, v14/v15)<br>  - Code (concept):<br>    <pre><code class="language-c">while (!left_end &amp;&amp; !right_end) {<br>      if (cmp(left-&gt;key, right-&gt;key) &lt;= 0) output(left++);<br>      else output(right++);<br>    }</code></pre><br>  - Production patterns: used after external sort to minimize I/O; buffer equal-key groups for join semantics; avoid extra tuple copies<br><br>- Case: Timsort merge (CPython 3.11, OpenJDK Arrays.sort)<br>  - Source: CPython listsort (Objects/listsort.txt, listobject.c), OpenJDK TimSort implementation<br>  - Code (concept): merge two runs with indices i,j into temp buffer, switch to galloping when skewed comparisons are frequent<br>  - Production patterns: control temp buffer size, use galloping to reduce comparisons, favor sequential memory access for cache performance<br><br>These patterns appear in OLAP engines, language runtimes, and large-scale data pipelines where linear passes and low-allocation merges are critical.</div>
      </section>
    </article>
  </main>

  <footer>
    <p>&copy; 2025 Tech Knowledge Log. All rights reserved.</p>
  </footer>

  <script src="/tech-knowledge-log/script.js?v=8"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-java.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
</body>
</html>